import{c as e,r as s,u as a,j as r}from"./index-B2XvNDaG.js";import{i as l}from"./axiosClient-Bl7wR9qs.js";import{u as d,q as t}from"./queryOptions-Dj-1I9it.js";import{p as i,i as n,R as c,C as m,a as x,b as o}from"./calendar-BtryPDjI.js";import{f as h,i as g,S as j}from"./id-HqmWD3a3.js";import{A as u,B as b,a as p,C as y,b as N,c as f}from"./alert-BABzznMx.js";import{B as v}from"./Button-BuwFoh-h.js";import{T as w}from"./trending-up-BXJJxlnp.js";import{C as k}from"./chevron-right-BSM-HRiL.js";function M(e={}){return t({queryKey:[{url:"/api/Pemasukan"}],queryFn:async({signal:s})=>(e.signal=s,async function(e={}){const{client:s=l,...a}=e;return await s({method:"GET",url:"/api/Pemasukan",...a})}(e))})}const T=e("/_protected/DataPemasukan/")({component:function(){const[e,l]=s.useState(new Date),{data:t,isLoading:T,isError:D,error:P}=function(e={}){const{query:{client:s,...a}={},client:r={}}=e??{},l=a?.queryKey??[{url:"/api/Pemasukan"}],t=d({...M(r),queryKey:l,...a},s);return t.queryKey=l,t}(),q=a(),E=(t?.data||t||[]).filter(s=>{try{const a=i(s.tanggal);return n(a,e)}catch{return!1}}),A=E.reduce((e,s)=>e+s.jumlah,0),C=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),K=E.length>0?A/E.length:0;return r.jsx("div",{className:"min-h-screen bg-gray-50",children:r.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{className:"flex items-center gap-4",children:[r.jsxs(v,{onClick:()=>q({to:"/DashboardSaldo"}),variant:"outline",className:"flex items-center gap-2 px-4 py-2",children:[r.jsx(u,{className:"h-4 w-4"}),"Kembali"]}),r.jsxs("div",{children:[r.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Data Pemasukan"}),r.jsx("p",{className:"text-gray-600",children:"Pantau dan kelola pemasukan Anda dengan mudah"})]})]}),r.jsx("div",{className:"hidden md:block",children:r.jsxs("div",{className:"bg-gradient-to-r from-blue-500 to-purple-600 text-white px-4 py-2 rounded-lg",children:[r.jsx("div",{className:"text-sm font-medium",children:"Hari ini"}),r.jsx("div",{className:"text-lg font-bold",children:h(new Date,"dd MMM yyyy",{locale:g})})]})})]})}),r.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Pemasukan"}),r.jsx("p",{className:"text-2xl font-bold text-green-600",children:C(A)})]}),r.jsx("div",{className:"bg-green-100 rounded-full p-3",children:r.jsx(w,{className:"h-6 w-6 text-green-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Jumlah Transaksi"}),r.jsx("p",{className:"text-2xl font-bold text-blue-600",children:E.length})]}),r.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:r.jsx(c,{className:"h-6 w-6 text-blue-600"})})]})}),r.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:r.jsxs("div",{className:"flex items-center justify-between",children:[r.jsxs("div",{children:[r.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Rata-rata"}),r.jsx("p",{className:"text-2xl font-bold text-purple-600",children:C(K)})]}),r.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:r.jsx(m,{className:"h-6 w-6 text-purple-600"})})]})})]}),r.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[r.jsx(k,{className:"h-5 w-5 text-gray-700"}),r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Pilih Tanggal"})]}),r.jsx("div",{className:"flex justify-center",children:r.jsx(x,{mode:"single",selected:e,onSelect:e=>e&&l(e),disabled:e=>o(e,new Date),className:"rounded-md border shadow-sm",locale:g,initialFocus:!0})})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Ringkasan Tanggal"}),r.jsxs("div",{className:"space-y-4",children:[r.jsxs("div",{className:"bg-gradient-to-r from-blue-50 to-indigo-50 rounded-lg p-4 border border-blue-100",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Tanggal Dipilih"}),r.jsx("div",{className:"text-lg font-semibold text-blue-800",children:h(e,"EEEE, d MMMM yyyy",{locale:g})})]}),r.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[r.jsxs("div",{className:"bg-green-50 rounded-lg p-4 border border-green-100",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total"}),r.jsx("div",{className:"text-lg font-bold text-green-600",children:C(A)})]}),r.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[r.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Transaksi"}),r.jsx("div",{className:"text-lg font-bold text-gray-800",children:E.length})]})]})]})]})]}),r.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[r.jsx("div",{className:"p-6 border-b border-gray-100",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[r.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Daftar Pemasukan"}),r.jsxs("div",{className:"flex items-center gap-2",children:[r.jsx(b,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:h(e,"dd MMM yyyy",{locale:g})}),r.jsxs(b,{variant:"outline",className:"bg-green-50 text-green-700 border-green-200",children:[E.length," Transaksi"]})]})]})}),r.jsx("div",{className:"p-6",children:T?r.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,s)=>r.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[r.jsx(j,{className:"h-12 w-12 rounded-full"}),r.jsxs("div",{className:"space-y-2 flex-1",children:[r.jsx(j,{className:"h-4 w-3/4"}),r.jsx(j,{className:"h-4 w-1/2"})]}),r.jsx(j,{className:"h-6 w-20"})]},s))}):D?r.jsxs(p,{variant:"destructive",children:[r.jsx(y,{className:"h-4 w-4"}),r.jsx(N,{children:"Gagal Memuat Data"}),r.jsx(f,{children:P?.message||"Terjadi kesalahan saat memuat data pemasukan"})]}):0===E.length?r.jsxs("div",{className:"text-center py-12",children:[r.jsx("div",{className:"mx-auto bg-gray-100 text-gray-500 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:r.jsx(c,{className:"h-8 w-8"})}),r.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Tidak Ada Transaksi"}),r.jsxs("p",{className:"text-gray-600",children:["Tidak ada pemasukan untuk tanggal ",h(e,"d MMMM yyyy",{locale:g})]})]}):r.jsx("div",{className:"space-y-3",children:E.map((e,s)=>r.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-all duration-200 hover:shadow-md",children:r.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[r.jsxs("div",{className:"flex-1",children:[r.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[r.jsx("div",{className:"w-2 h-2 bg-green-500 rounded-full"}),r.jsx("h3",{className:"font-medium text-gray-800",children:e.deskripsi})]}),r.jsx("div",{className:"flex items-center gap-2",children:r.jsx(b,{variant:"secondary",className:"bg-purple-100 text-purple-800 text-xs",children:h(i(e.createdAt),"HH:mm",{locale:g})})})]}),r.jsxs("div",{className:"text-right",children:[r.jsx("p",{className:"text-lg font-bold text-green-600",children:C(e.jumlah)}),r.jsx("p",{className:"text-sm text-gray-500",children:h(i(e.tanggal),"dd MMM yyyy",{locale:g})})]})]})},e.idPemasukan))})})]})]})})}});export{T as Route};

import{c as e,u as a,j as s,r as t,S as n}from"./index-DuP29WnI.js";import{i as r}from"./axiosClient-BhEPqxcn.js";import{u as l}from"./useMutation-DEcMuSr-.js";import{L as i,a as o}from"./Logo-CyaaianB.js";function d(e={}){const{mutation:a={},client:s={}}=e??{},{client:t,...n}=a,i=n.mutationKey??[{url:"/api/auth/register"}];return l({mutationFn:async({data:e})=>async function(e,a={}){const{client:s=r,...t}=a;return await s({method:"POST",url:"/api/auth/register",data:e,...t,headers:{"Content-Type":"application/*+json",...t.headers}})}(e,s),mutationKey:i,...n},t)}const c=e("/Register/")({component:function(){const e=a(),r=d({mutation:{onSuccess(a){console.log("✅ Registrasi berhasil:",a),n.fire({title:"Registrasi Berhasil!",text:"Akun Anda berhasil dibuat. Silakan masuk.",icon:"success",confirmButtonText:"OK",confirmButtonColor:"#4f46e5"}).then(()=>{e({to:"/Login"})})},onError(e){console.error("❌ Registrasi gagal:",e);const a=e?.response?.data?.message||"Terjadi kesalahan saat registrasi. Silakan coba lagi.";n.fire({title:"Registrasi Gagal",text:a,icon:"error",confirmButtonText:"OK",confirmButtonColor:"#4f46e5"})}},client:{baseURL:"http://103.197.188.244:9999"}}),l=()=>s.jsxs("div",{className:"md:hidden bg-gradient-to-r from-indigo-600 to-blue-700 text-white p-6 text-center relative",children:[s.jsxs("div",{className:"pt-2",children:[s.jsx("h2",{className:"text-2xl font-bold",children:"Kantong Pintar"}),s.jsx("p",{className:"text-indigo-200 mt-1 mb-12",children:"Manajemen Keuangan Terintegrasi"})]}),s.jsx("div",{className:"absolute -bottom-8 left-1/2 transform -translate-x-1/2",children:s.jsx("div",{className:"bg-white rounded-full p-2 shadow-lg border-4 border-white",children:s.jsx("img",{src:o,alt:"Kantong Pintar Logo",className:"w-16 h-16 object-contain"})})})]}),c=()=>s.jsx("div",{className:"hidden md:flex justify-center mb-6",children:s.jsx("div",{className:"bg-gradient-to-r from-indigo-600 to-blue-700 rounded-full p-1.5 shadow-md",children:s.jsx("div",{className:"bg-white rounded-full p-2",children:s.jsx("img",{src:o,alt:"Kantong Pintar Logo",className:"w-16 h-16 object-contain"})})})}),m=()=>s.jsxs("div",{className:"max-w-md mx-auto",children:[s.jsx("div",{className:"flex items-center justify-center mb-8",children:s.jsx("div",{className:"bg-white/20 backdrop-blur-sm rounded-full p-3 shadow-lg",children:s.jsx("div",{className:"bg-white rounded-full p-2",children:s.jsx("img",{src:o,alt:"Kantong Pintar Logo",className:"w-16 h-16 object-contain"})})})}),s.jsx("h2",{className:"text-4xl font-bold mb-4 text-center",children:"Kelola Keuangan dengan Lebih Efisien"}),s.jsx("p",{className:"text-indigo-200 mb-8 text-center",children:"Solusi lengkap untuk manajemen keuangan bisnis, pelacakan pengeluaran, dan analisis keuangan."})]}),u=()=>{const[e,a]=t.useState(!1),[n,i]=t.useState(!1),[o,d]=t.useState(""),[m,u]=t.useState(null);return s.jsxs("div",{className:"w-full max-w-md bg-white rounded-2xl shadow-xl overflow-hidden transition-all hover:shadow-2xl",children:[s.jsx(l,{}),s.jsxs("div",{className:"p-6 md:p-8 pt-16 md:pt-8",children:[s.jsx(c,{}),s.jsxs("div",{className:"text-center mb-8",children:[s.jsx("h2",{className:"text-2xl font-bold text-gray-800",children:"Buat Akun Baru"}),s.jsx("p",{className:"text-gray-600 mt-2",children:"Mulai kelola keuangan bisnis Anda"})]}),s.jsxs("form",{onSubmit:async e=>{e.preventDefault();const a=new FormData(e.currentTarget),s=a.get("password");if(s===a.get("confirmPassword")){d("");try{await(async(e,a,s)=>{try{await r.mutateAsync({data:{namaLengkap:e,email:a,password:s}})}catch(t){console.error("❌ Error saat registrasi:",t)}})(a.get("namaLengkap"),a.get("email"),s)}catch(t){}}else d("Konfirmasi password tidak cocok")},className:"space-y-4",children:[s.jsxs("div",{children:[s.jsx("label",{htmlFor:"namaLengkap",className:"block text-sm font-medium text-gray-700",children:"Nama Lengkap"}),s.jsx("input",{id:"namaLengkap",name:"namaLengkap",type:"text",required:!0,placeholder:"Contoh: ChairulArdana",className:"mt-1 block w-full px-3 py-2.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"email",className:"block text-sm font-medium text-gray-700",children:"Email"}),s.jsx("input",{id:"email",name:"email",type:"email",required:!0,placeholder:"Contoh: nama@email.com",className:"mt-1 block w-full px-3 py-2.5 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"password",className:"block text-sm font-medium text-gray-700",children:"Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{id:"password",name:"password",type:e?"text":"password",required:!0,placeholder:"Contoh: Password123!",className:"block w-full px-3 py-2.5 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500",onChange:e=>{const a=e.target.value;u((e=>{if(!e)return null;let a=0;return/[A-Z]/.test(e)&&a++,/[a-z]/.test(e)&&a++,/\d/.test(e)&&a++,/[!@#$%^&*(),.?":{}|<>]/.test(e)&&a++,e.length>=8&&a++,a<=2?"lemah":3===a?"sedang":"kuat"})(a))}}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",onClick:()=>a(!e),children:e?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),s.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]}),m&&s.jsxs("div",{className:"mt-2",children:[s.jsx("div",{className:"flex items-center justify-between mb-1",children:s.jsxs("span",{className:"text-xs font-medium text-gray-500",children:["Kekuatan password:",s.jsx("span",{className:"ml-1 font-bold "+("lemah"===m?"text-red-500":"sedang"===m?"text-yellow-500":"text-green-500"),children:(()=>{switch(m){case"lemah":return"Lemah";case"sedang":return"Sedang";case"kuat":return"Kuat";default:return""}})()})]})}),s.jsx("div",{className:"w-full bg-gray-200 rounded-full h-1.5",children:s.jsx("div",{className:`h-1.5 rounded-full ${(()=>{switch(m){case"lemah":return"bg-red-500";case"sedang":return"bg-yellow-500";case"kuat":return"bg-green-500";default:return"bg-gray-300"}})()}`,style:{width:"lemah"===m?"33%":"sedang"===m?"66%":"100%"}})})]}),s.jsx("p",{className:"mt-1 text-xs text-gray-500",children:"Minimal 8 karakter dengan abjad, angka, dan kode unik"})]}),s.jsxs("div",{children:[s.jsx("label",{htmlFor:"confirmPassword",className:"block text-sm font-medium text-gray-700",children:"Konfirmasi Password"}),s.jsxs("div",{className:"relative mt-1",children:[s.jsx("input",{id:"confirmPassword",name:"confirmPassword",type:n?"text":"password",required:!0,placeholder:"Ketik ulang password",className:"block w-full px-3 py-2.5 pr-10 border border-gray-300 rounded-md shadow-sm focus:outline-none focus:ring-indigo-500 focus:border-indigo-500"}),s.jsx("button",{type:"button",className:"absolute inset-y-0 right-0 pr-3 flex items-center text-gray-400 hover:text-gray-500",onClick:()=>i(!n),children:n?s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{d:"M10 12a2 2 0 100-4 2 2 0 000 4z"}),s.jsx("path",{fillRule:"evenodd",d:"M.458 10C1.732 5.943 5.522 3 10 3s8.268 2.943 9.542 7c-1.274 4.057-5.064 7-9.542 7S1.732 14.057.458 10zM14 10a4 4 0 11-8 0 4 4 0 018 0z",clipRule:"evenodd"})]}):s.jsxs("svg",{xmlns:"http://www.w3.org/2000/svg",className:"h-5 w-5",viewBox:"0 0 20 20",fill:"currentColor",children:[s.jsx("path",{fillRule:"evenodd",d:"M3.707 2.293a1 1 0 00-1.414 1.414l14 14a1 1 0 001.414-1.414l-1.473-1.473A10.014 10.014 0 0019.542 10C18.268 5.943 14.478 3 10 3a9.958 9.958 0 00-4.512 1.074l-1.78-1.781zm4.261 4.26l1.514 1.515a2.003 2.003 0 012.45 2.45l1.514 1.514a4 4 0 00-5.478-5.478z",clipRule:"evenodd"}),s.jsx("path",{d:"M12.454 16.697L9.75 13.992a4 4 0 01-3.742-3.741L2.335 6.578A9.98 9.98 0 00.458 10c1.274 4.057 5.065 7 9.542 7 .847 0 1.669-.105 2.454-.303z"})]})})]}),o&&s.jsx("p",{className:"mt-1 text-sm text-red-600",children:o})]}),s.jsx("div",{children:s.jsx("button",{type:"submit",className:"w-full bg-indigo-600 text-white py-2.5 px-4 rounded-md hover:bg-indigo-700 focus:outline-none focus:ring-2 focus:ring-offset-2 focus:ring-indigo-500 font-medium",children:"Daftar"})})]}),s.jsx("div",{className:"mt-6 text-center",children:s.jsxs("p",{className:"text-gray-600",children:["Sudah punya akun?"," ",s.jsx("a",{href:"/login",className:"font-medium text-indigo-600 hover:text-indigo-500 transition-colors",children:"Masuk disini"})]})})]})]})};return s.jsx(i,{sidebar:s.jsx(m,{}),form:s.jsx(u,{})})}});export{c as Route};

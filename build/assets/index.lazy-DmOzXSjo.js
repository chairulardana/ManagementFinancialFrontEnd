import{a as e,c as s,r as a,u as r,j as l}from"./index-OwHGA8Yh.js";import{i as d}from"./axiosClient-BR4GwyJW.js";import{u as t,q as i}from"./queryOptions-nLiP2SlP.js";import{p as n,i as c,R as m,C as x,a as o,b as h}from"./calendar-CJTgX873.js";import{f as g,i as j,S as u}from"./id-BXtpD03B.js";import{A as b,B as y,a as p,C as N,b as f,c as v}from"./alert-BzllPOa4.js";import{B as w}from"./Button-DP3ful2i.js";import{C as M}from"./chevron-right-CpbGTfNB.js";const k=e("trending-down",[["path",{d:"M16 17h6v-6",key:"t6n2it"}],["path",{d:"m22 17-8.5-8.5-5 5L2 7",key:"x473p"}]]);function T(e={}){return i({queryKey:[{url:"/api/Pengeluaran"}],queryFn:async({signal:s})=>(e.signal=s,async function(e={}){const{client:s=d,...a}=e;return await s({method:"GET",url:"/api/Pengeluaran",...a})}(e))})}const D=s("/_protected/DataPengeluaran/")({component:function(){const[e,s]=a.useState(new Date),{data:d,isLoading:i,isError:D,error:q}=function(e={}){const{query:{client:s,...a}={},client:r={}}=e??{},l=a?.queryKey??[{url:"/api/Pengeluaran"}],d=t({...T(r),queryKey:l,...a},s);return d.queryKey=l,d}(),P=r(),E=(d?.data||d||[]).filter(s=>{try{const a=n(s.tanggal);return c(a,e)}catch{return!1}}),K=E.reduce((e,s)=>e+s.nominal,0),C=e=>new Intl.NumberFormat("id-ID",{style:"currency",currency:"IDR",minimumFractionDigits:0}).format(e),A=E.length>0?K/E.length:0;return l.jsx("div",{className:"min-h-screen bg-gray-50",children:l.jsxs("div",{className:"max-w-7xl mx-auto p-4 md:p-6 space-y-6",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{className:"flex items-center gap-4",children:[l.jsxs(w,{onClick:()=>P({to:"/DashboardSaldo"}),variant:"outline",className:"flex items-center gap-2 px-4 py-2",children:[l.jsx(b,{className:"h-4 w-4"}),"Kembali"]}),l.jsxs("div",{children:[l.jsx("h1",{className:"text-2xl md:text-3xl font-bold text-gray-900 mb-2",children:"Data Pengeluaran"}),l.jsx("p",{className:"text-gray-600",children:"Pantau dan kelola pengeluaran Anda dengan mudah"})]})]}),l.jsx("div",{className:"hidden md:block",children:l.jsxs("div",{className:"bg-gradient-to-r from-orange-500 to-red-600 text-white px-4 py-2 rounded-lg",children:[l.jsx("div",{className:"text-sm font-medium",children:"Hari ini"}),l.jsx("div",{className:"text-lg font-bold",children:g(new Date,"dd MMM yyyy",{locale:j})})]})})]})}),l.jsxs("div",{className:"grid grid-cols-1 md:grid-cols-3 gap-4",children:[l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Total Pengeluaran"}),l.jsx("p",{className:"text-2xl font-bold text-red-600",children:C(K)})]}),l.jsx("div",{className:"bg-red-100 rounded-full p-3",children:l.jsx(k,{className:"h-6 w-6 text-red-600"})})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Jumlah Transaksi"}),l.jsx("p",{className:"text-2xl font-bold text-blue-600",children:E.length})]}),l.jsx("div",{className:"bg-blue-100 rounded-full p-3",children:l.jsx(m,{className:"h-6 w-6 text-blue-600"})})]})}),l.jsx("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:l.jsxs("div",{className:"flex items-center justify-between",children:[l.jsxs("div",{children:[l.jsx("p",{className:"text-sm font-medium text-gray-600 mb-1",children:"Rata-rata"}),l.jsx("p",{className:"text-2xl font-bold text-purple-600",children:C(A)})]}),l.jsx("div",{className:"bg-purple-100 rounded-full p-3",children:l.jsx(x,{className:"h-6 w-6 text-purple-600"})})]})})]}),l.jsxs("div",{className:"grid grid-cols-1 lg:grid-cols-2 gap-6",children:[l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-4",children:[l.jsx(M,{className:"h-5 w-5 text-gray-700"}),l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Pilih Tanggal"})]}),l.jsx("div",{className:"flex justify-center",children:l.jsx(o,{mode:"single",selected:e,onSelect:e=>e&&s(e),disabled:e=>h(e,new Date),className:"rounded-md border shadow-sm",locale:j,initialFocus:!0})})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm p-6 border border-gray-100",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800 mb-4",children:"Ringkasan Tanggal"}),l.jsxs("div",{className:"space-y-4",children:[l.jsxs("div",{className:"bg-gradient-to-r from-orange-50 to-red-50 rounded-lg p-4 border border-orange-100",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Tanggal Dipilih"}),l.jsx("div",{className:"text-lg font-semibold text-orange-800",children:g(e,"EEEE, d MMMM yyyy",{locale:j})})]}),l.jsxs("div",{className:"grid grid-cols-2 gap-4",children:[l.jsxs("div",{className:"bg-red-50 rounded-lg p-4 border border-red-100",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Total"}),l.jsx("div",{className:"text-lg font-bold text-red-600",children:C(K)})]}),l.jsxs("div",{className:"bg-gray-50 rounded-lg p-4 border border-gray-200",children:[l.jsx("div",{className:"text-sm text-gray-600 mb-1",children:"Transaksi"}),l.jsx("div",{className:"text-lg font-bold text-gray-800",children:E.length})]})]})]})]})]}),l.jsxs("div",{className:"bg-white rounded-xl shadow-sm border border-gray-100",children:[l.jsx("div",{className:"p-6 border-b border-gray-100",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-center gap-4",children:[l.jsx("h2",{className:"text-lg font-semibold text-gray-800",children:"Daftar Transaksi"}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(y,{variant:"outline",className:"bg-blue-50 text-blue-700 border-blue-200",children:g(e,"dd MMM yyyy",{locale:j})}),l.jsxs(y,{variant:"outline",className:"bg-red-50 text-red-700 border-red-200",children:[E.length," Transaksi"]})]})]})}),l.jsx("div",{className:"p-6",children:i?l.jsx("div",{className:"space-y-4",children:[...Array(3)].map((e,s)=>l.jsxs("div",{className:"flex items-center space-x-4 p-4 border rounded-lg",children:[l.jsx(u,{className:"h-12 w-12 rounded-full"}),l.jsxs("div",{className:"space-y-2 flex-1",children:[l.jsx(u,{className:"h-4 w-3/4"}),l.jsx(u,{className:"h-4 w-1/2"})]}),l.jsx(u,{className:"h-6 w-20"})]},s))}):D?l.jsxs(p,{variant:"destructive",children:[l.jsx(N,{className:"h-4 w-4"}),l.jsx(f,{children:"Gagal Memuat Data"}),l.jsx(v,{children:q?.message||"Terjadi kesalahan saat memuat data pengeluaran"})]}):0===E.length?l.jsxs("div",{className:"text-center py-12",children:[l.jsx("div",{className:"mx-auto bg-gray-100 text-gray-500 rounded-full w-16 h-16 flex items-center justify-center mb-4",children:l.jsx(m,{className:"h-8 w-8"})}),l.jsx("h3",{className:"text-lg font-medium text-gray-800 mb-2",children:"Tidak Ada Transaksi"}),l.jsxs("p",{className:"text-gray-600",children:["Tidak ada pengeluaran untuk tanggal ",g(e,"d MMMM yyyy",{locale:j})]})]}):l.jsx("div",{className:"space-y-3",children:E.map((e,s)=>l.jsx("div",{className:"border border-gray-200 rounded-lg p-4 hover:bg-gray-50 transition-all duration-200 hover:shadow-md",children:l.jsxs("div",{className:"flex flex-col sm:flex-row sm:justify-between sm:items-start gap-3",children:[l.jsxs("div",{className:"flex-1",children:[l.jsxs("div",{className:"flex items-center gap-2 mb-2",children:[l.jsx("div",{className:"w-2 h-2 bg-red-500 rounded-full"}),l.jsx("h3",{className:"font-medium text-gray-800",children:e.deskripsi})]}),l.jsxs("div",{className:"flex items-center gap-2",children:[l.jsx(y,{variant:"secondary",className:"bg-purple-100 text-purple-800 text-xs",children:e.namaKategori}),e.namaTarget&&l.jsx(y,{variant:"secondary",className:"bg-green-100 text-green-800 text-xs",children:e.namaTarget})]})]}),l.jsxs("div",{className:"text-right",children:[l.jsx("p",{className:"text-lg font-bold text-red-600",children:C(e.nominal)}),l.jsx("p",{className:"text-sm text-gray-500",children:g(n(e.tanggal),"dd MMM yyyy",{locale:j})})]})]})},e.idPengeluaran))})})]})]})})}});export{D as Route};
